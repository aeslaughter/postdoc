<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>NSF Postdoctoral Research: fem/examples/example2.cpp</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://www.mathjax.org/mathjax/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">NSF Postdoctoral Research
   
   </div>
   <div id="projectbrief">A set of C++ code developed by Andrew E. Slaughter</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('fem_2examples_2example2_8cpp-example.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">fem/examples/example2.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>A test function for testing the HeatEq class.</p>
<p>This class implements Example 8-1 from Bhatti (2005; p. 552). Run the program with the <code>--help</code> flag for a complete list of run-time options.</p>
<div class="fragment"><pre class="fragment">
<span class="comment">// Standard library includes  </span>
<span class="preprocessor">#include &lt;iostream&gt;</span>
<span class="preprocessor">#include &lt;algorithm&gt;</span>
<span class="preprocessor">#include &lt;math.h&gt;</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;functional&gt;</span>

<span class="comment">// BOOST includes</span>
<span class="preprocessor">#include &lt;boost/shared_ptr.hpp&gt;</span>
<span class="preprocessor">#include &lt;boost/function.hpp&gt;</span>
<span class="preprocessor">#include &lt;boost/ref.hpp&gt;</span>
<span class="preprocessor">#include &lt;boost/bind.hpp&gt;</span>

<span class="comment">// Include my fem library</span>
<span class="preprocessor">#include &quot;<a class="code" href="fem_2include_8h.html" title="General include file for the fem library.">fem/include.h</a>&quot;</span>
<span class="keyword">using namespace </span>SlaughterFEM;

<span class="comment">// Include my common library</span>
<span class="preprocessor">#include &quot;<a class="code" href="common_2include_8h.html" title="General include file for the common library.">common/include.h</a>&quot;</span>
<span class="keyword">using namespace </span>SlaughterCommon;

<span class="comment">// libMesh: input/output</span>
<span class="preprocessor">#include &quot;exodusII_io.h&quot;</span>
<span class="preprocessor">#include &quot;vtk_io.h&quot;</span>
<span class="preprocessor">#include &quot;gmv_io.h&quot;</span>

<span class="comment">// libMesh:: mesh creation</span>
<span class="preprocessor">#include &quot;mesh_generation.h&quot;</span>
<span class="preprocessor">#include &quot;mesh.h&quot;</span>
<span class="preprocessor">#include &quot;mesh_triangle_interface.h&quot;</span>
<span class="preprocessor">#include &quot;mesh_generation.h&quot;</span>
<span class="preprocessor">#include &quot;elem.h&quot;</span>
<span class="preprocessor">#include &quot;mesh_tetgen_interface.h&quot;</span>
<span class="preprocessor">#include &quot;node.h&quot;</span>
<span class="preprocessor">#include &quot;face_tri3.h&quot;</span>
<span class="preprocessor">#include &quot;mesh_triangle_holes.h&quot;</span>

<span class="comment">// Bring in everything from the libMesh namespace</span>
<span class="keyword">using namespace </span>libMesh;

<span class="comment">// C++ Includes</span>
<span class="preprocessor">#include &lt;math.h&gt;</span>
<span class="preprocessor">#include &lt;boost/math/constants/constants.hpp&gt;</span>

<span class="comment">// Short-hand for boundary conditions</span>
<span class="keyword">typedef</span> boost::shared_ptr&lt;HeatEqBoundaryDirichlet&gt; pDirichlet;
<span class="keyword">typedef</span> boost::shared_ptr&lt;HeatEqBoundaryNeumann&gt; pNeumann;
<span class="keyword">typedef</span> boost::shared_ptr&lt;HeatEqBoundaryConvection&gt; pConvection;

<span class="comment">// My boundary condition function</span>

<span class="keywordtype">void</span> dirichlet_function(DenseVector&lt;Number&gt;&amp; output, <span class="keyword">const</span> Point&amp;, <span class="keyword">const</span> Real){
   output(0) = 300;
}  

<span class="comment">// Wrapper function for exact solution, used for initilization        </span>
Number initial_function(<span class="keyword">const</span> Point&amp;, <span class="keyword">const</span> Parameters&amp;, <span class="keyword">const</span> std::string&amp;, <span class="keyword">const</span> std::string&amp;){
    <span class="keywordflow">return</span> 50;
}

<span class="comment">// Function prototype for gathering command-line options with UserOptions</span>
<a name="_a0"></a><a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> gather_command_line(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv);

<span class="comment">// Begin main function</span>
<span class="keywordtype">int</span> <a name="a1"></a><a class="code" href="v2m_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program for generating meshes from 3D image data.">main</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv){
<span class="comment">//PerfLog P(&quot;Example 2 Program&quot;);</span>
<span class="comment">//P.push(&quot;init&quot;,&quot;Program Initilization&quot;);</span>

   <span class="comment">// Gather command-line options</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> user = gather_command_line(argc, argv);

    <span class="comment">// Initialize libraries</span>
    LibMeshInit init (argc, argv);
        
   <span class="comment">// Initilize the mesh and order variables</span>
   <a name="_a2"></a><a class="code" href="class_slaughter_f_e_m_1_1_my_mesh.html" title="Adds additional boundary identification behavior to libMesh::Mesh class.">MyMesh</a> mesh;
   Order order;
   
   <span class="comment">// Patch test (Bhatti Example 8-1)</span>
   <span class="keywordflow">if</span>(user.<a name="a3"></a><a class="code" href="class_slaughter_common_1_1_user_options.html#aaa100140aaa4ae1306db08b9d127d231" title="Function for testing if an flag was supplied on the command-line.">get_flag</a>(<span class="stringliteral">&quot;patch&quot;</span>)){
      GMVIO(mesh).read(<span class="stringliteral">&quot;../data/fem/examples/input/example2.gmv&quot;</span>);
      mesh.all_first_order();
      order = FIRST;
   
   <span class="comment">// 2-D box</span>
   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (user.<a class="code" href="class_slaughter_common_1_1_user_options.html#aaa100140aaa4ae1306db08b9d127d231" title="Function for testing if an flag was supplied on the command-line.">get_flag</a>(<span class="stringliteral">&quot;2D&quot;</span>)){
      MeshTools::Generation::build_square(mesh, 10, 10, 0., 0.04, 0., 0.04, TRI6);
      mesh.all_second_order();
      order = SECOND;
      
   <span class="comment">// 3-D box  </span>
   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (user.<a class="code" href="class_slaughter_common_1_1_user_options.html#aaa100140aaa4ae1306db08b9d127d231" title="Function for testing if an flag was supplied on the command-line.">get_flag</a>(<span class="stringliteral">&quot;3D&quot;</span>)){
      MeshTools::Generation::build_cube(mesh, 10, 10, 10, 0., 0.04, 0., 0.04, 0., 0.04, TET10);
      mesh.all_second_order();
      order = SECOND;
   
   <span class="comment">// Multi-element implementation of Bhatti Exmample 8-1</span>
   } <span class="keywordflow">else</span> {
      mesh.set_mesh_dimension(2);
      mesh.add_point(Point(0,0));
      mesh.add_point(Point(0.02,0));
      mesh.add_point(Point(0.02,0.04));
      mesh.add_point(Point(0,0.02));
   
      TriangleInterface t(mesh);
      t.desired_area() = 1e-4;
      t.triangulation_type() = TriangleInterface::PSLG;
      t.smooth_after_generating() = <span class="keyword">true</span>;
      t.triangulate();
      mesh.all_second_order();
      order = SECOND;
   }
   
   <span class="comment">// Create an equation system</span>
   EquationSystems eq_sys(mesh); 
 
   <span class="comment">// Create a HeatEq class</span>
   <a name="_a4"></a><a class="code" href="class_slaughter_f_e_m_1_1_heat_eq.html" title="A class for solving the heat equation with libMesh.">HeatEq</a> eqObj(eq_sys, order);
   
   <span class="comment">// Implement refinement if specified by the user</span>
   <span class="keywordflow">if</span>(user.<a class="code" href="class_slaughter_common_1_1_user_options.html#aaa100140aaa4ae1306db08b9d127d231" title="Function for testing if an flag was supplied on the command-line.">get_flag</a>(<span class="stringliteral">&quot;refine&quot;</span>)){
      eqObj.use_refinement();
      eqObj.set_refinement_levels(user.<a name="a5"></a><a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;refine-fraction&quot;</span>),
                           user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;coarsen-fraction&quot;</span>),
                           user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;h-level&quot;</span>));
   }
   
   <span class="comment">// Define the material constants</span>
    eqObj.set&lt;Real&gt;(<span class="stringliteral">&quot;k&quot;</span>, user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;conductivity&quot;</span>));
    eqObj.set&lt;Real&gt;(<span class="stringliteral">&quot;rho&quot;</span>, user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;density&quot;</span>));
    eqObj.set&lt;Real&gt;(<span class="stringliteral">&quot;cp&quot;</span>, user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;specific-heat&quot;</span>));

   <span class="comment">// Link to the initialization function</span>
   eqObj.add_initial_function(initial_function);

    <span class="comment">// Add boundary IDs (this is some custom functionality that I added)</span>
    mesh.find_neighbors();
    mesh.boundary_info-&gt;clear();
    mesh.<a name="a6"></a><a class="code" href="class_slaughter_f_e_m_1_1_my_mesh.html#a20df62b172723d307823943be105b7a0" title="A function for identifing a boundary based on the nodal position of the sides.">add_boundary_id</a>(0, <span class="stringliteral">&quot;y&quot;</span>, 0.0);  <span class="comment">// bottom</span>
    mesh.<a class="code" href="class_slaughter_f_e_m_1_1_my_mesh.html#a20df62b172723d307823943be105b7a0" title="A function for identifing a boundary based on the nodal position of the sides.">add_boundary_id</a>(1, <span class="stringliteral">&quot;x&quot;</span>, 0.02); <span class="comment">// right</span>
    mesh.<a class="code" href="class_slaughter_f_e_m_1_1_my_mesh.html#a20df62b172723d307823943be105b7a0" title="A function for identifing a boundary based on the nodal position of the sides.">add_boundary_id</a>(2, <span class="stringliteral">&quot;x&quot;</span>, 0.0);  <span class="comment">// left</span>
    mesh.<a class="code" href="class_slaughter_f_e_m_1_1_my_mesh.html#a20df62b172723d307823943be105b7a0" title="A function for identifing a boundary based on the nodal position of the sides.">add_boundary_id</a>(3); <span class="comment">// top</span>

   <span class="comment">// Convection boundary at bottom (user-specified)</span>
   pConvection pC = eqObj.add_boundary&lt;<a name="_a7"></a><a class="code" href="class_slaughter_f_e_m_1_1_heat_eq_boundary_convection.html" title="A class for convection boundary conditions.">HeatEqBoundaryConvection</a>&gt;(0);
   pC-&gt;<a name="a8"></a><a class="code" href="class_slaughter_f_e_m_1_1_heat_eq_boundary_convection.html#a6dbdb88a064556fa8dec6636860ded55" title="A constant h term, used in the default operation.">h_constant</a> = user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;h-coefficient&quot;</span>);
   pC-&gt;Tinf_constant = user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;Tinf&quot;</span>);  

   <span class="comment">// Flux boundary at right-side (user-specified)</span>
   pNeumann pN = eqObj.add_boundary&lt;<a name="_a9"></a><a class="code" href="class_slaughter_f_e_m_1_1_heat_eq_boundary_neumann.html" title="A class for flux boundary conditions.">HeatEqBoundaryNeumann</a>&gt;(1);
   pN-&gt;<a name="a10"></a><a class="code" href="class_slaughter_f_e_m_1_1_heat_eq_boundary_neumann.html#a0b98b17a4a475145541cc8a0fbdb5d1b" title="A constant flux value, used in default operation.">q_constant</a> = user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;flux&quot;</span>);
   
   <span class="comment">// Flux boundary at left-side (symetry; defaults to q = 0)</span>
   eqObj.add_boundary&lt;<a class="code" href="class_slaughter_f_e_m_1_1_heat_eq_boundary_neumann.html" title="A class for flux boundary conditions.">HeatEqBoundaryNeumann</a>&gt;(2);
   
   <span class="comment">// Top constant temperature boundary</span>
   pDirichlet pD = eqObj.add_boundary&lt;<a name="_a11"></a><a class="code" href="class_slaughter_f_e_m_1_1_heat_eq_boundary_dirichlet.html" title="A class for dirichlet boundary conditions.">HeatEqBoundaryDirichlet</a>&gt;(3);
   pD-&gt;<a name="a12"></a><a class="code" href="class_slaughter_f_e_m_1_1_eq_boundary_base.html#aa3f906031dc305528cb1551e9de46f52" title="A function pointer (libMesh required format)">fptr</a> = dirichlet_function; <span class="comment">// links the boundary function</span>

   <span class="comment">// Initialize system</span>
   eqObj.init_equation_system();

   <span class="comment">// Define a general filename</span>
    <a name="_a13"></a><a class="code" href="class_slaughter_common_1_1_file_parts.html" title="A class for simple file name handling.">FileParts</a> outfile(<span class="stringliteral">&quot;../data/fem/examples/output/example2.ex2&quot;</span>);
       
    <span class="comment">// Export the initial mesh</span>
   ExodusII_IO(mesh).write_equation_systems(outfile.add_tstep(0,3,<span class="stringliteral">&quot;_&quot;</span>), eq_sys);

   <span class="comment">// Define time stepping variables</span>
   Real time  = 0.;
   Real dt = user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;Real&gt;(<span class="stringliteral">&quot;dt&quot;</span>);  
   
<span class="comment">//P.pop(&quot;init&quot;);</span>
<span class="comment">//P.push(&quot;soln&quot;, &quot;Transient Solution&quot;);  </span>
    
    <span class="comment">// Begin the time loop</span>
   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t_step = 0; t_step &lt; user.<a class="code" href="class_slaughter_common_1_1_user_options.html#a83fbc8f63450770379132207240d4517" title="Function for returning a command-line specified option.">get</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;num-steps&quot;</span>); t_step++){
         
      <span class="comment">// Incremenet the time counter, set the time and the</span>
      <span class="comment">// time step size as parameters in the EquationSystem.</span>
      time += dt;

      <span class="comment">// Display a progress message</span>
      printf(<span class="stringliteral">&quot;time = %f; step %d of 300\n&quot;</span>, time, t_step);

      <span class="comment">// Update the old solution vector</span>
      eqObj.update_solution(time, dt);

      <span class="comment">// Solve the system</span>
      eqObj.solve();

      <span class="comment">// Output evey 10 timesteps to file.</span>
      <span class="keywordflow">if</span> ( (t_step+1)%30 == 0){
         std::string out = outfile.add_tstep(t_step+1,3,<span class="stringliteral">&quot;_&quot;</span>);
         ExodusII_IO(mesh).write_equation_systems(out, eq_sys);
      }
    }

<span class="comment">//P.pop(&quot;soln&quot;);</span>
   <span class="comment">// All done. </span>

   <span class="keywordflow">return</span> 0;
}

<span class="comment">// A subfunction for defining and gathering command-line options</span>
<a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> gather_command_line(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv){
   
   <span class="comment">// The general options and title</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> user(<span class="stringliteral">&quot;General Options&quot;</span>);
   user.<a name="a14"></a><a class="code" href="class_slaughter_common_1_1_user_options.html#a79c456a46c5904c1fa99d600b620eff1" title="Allows user to add title text that prints with --help.">add_title</a>(<span class="stringliteral">&quot;Example 2: FEM solution of the heat equation\n&quot;</span>);
   user.<a name="a15"></a><a class="code" href="class_slaughter_common_1_1_user_options.html#ac7c288260bdd01889143e4d7413036b5" title="Function for adding a flag (no associated value) options.">add_flag</a>(<span class="stringliteral">&quot;help&quot;</span>,<span class="stringliteral">&quot;List the available options&quot;</span>);
   
   <span class="comment">// Domain related options</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> type(<span class="stringliteral">&quot;Domain Options&quot;</span>);
   type.add_flag(<span class="stringliteral">&quot;patch&quot;</span>, <span class="stringliteral">&quot;Run as 2-element patch test as in Bhatti example 8-1&quot;</span>);
   type.add_flag(<span class="stringliteral">&quot;2D&quot;</span>, <span class="stringliteral">&quot;Run with a 2-D box domain&quot;</span>);
   type.add_flag(<span class="stringliteral">&quot;3D&quot;</span>, <span class="stringliteral">&quot;Run with a 3-D cube domain&quot;</span>); 
   
   <span class="comment">// Time integration related options</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> t_opt(<span class="stringliteral">&quot;Time Intergration Options&quot;</span>);
   t_opt.add_option&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;num-steps,n&quot;</span>, 300, <span class="stringliteral">&quot;Number of time steps&quot;</span>);
   t_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;dt&quot;</span>,1,<span class="stringliteral">&quot;Time step division (sec.)&quot;</span>);
   
   <span class="comment">// Mesh refinement options</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> r_opt(<span class="stringliteral">&quot;Mesh Refinement Options&quot;</span>);
   r_opt.add_flag(<span class="stringliteral">&quot;refine&quot;</span>, <span class="stringliteral">&quot;Utilize adaptive mesh refinement&quot;</span>);
   r_opt.add_option&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;refine-fraction,r&quot;</span>, 0.80, <span class="stringliteral">&quot;Max. fraction of elements to refine&quot;</span>);
   r_opt.add_option&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;coarsen-fraction,c&quot;</span>, 0.07, <span class="stringliteral">&quot;Max. fraction of elements to coarsen&quot;</span>);
   r_opt.add_option&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;h-level,l&quot;</span>, 5, <span class="stringliteral">&quot;Max. allowed refinement steps for element&quot;</span>);
   
   <span class="comment">// Material constant options</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> m_opt(<span class="stringliteral">&quot;Material Constants (defaults to Bhatti Example 8-1)&quot;</span>);
   m_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;conductivity,k&quot;</span>,3, <span class="stringliteral">&quot;Thermal conductivity (W/(mK))&quot;</span>);
   m_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;density,p&quot;</span>, 1600, <span class="stringliteral">&quot;Density (kg/m^3)&quot;</span>);
   m_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;specific-heat,c&quot;</span>, 800, <span class="stringliteral">&quot;Specific heat capacity (J/(kgK))&quot;</span>);
   
   <span class="comment">// Boundary condition options</span>
   <a class="code" href="class_slaughter_common_1_1_user_options.html" title="A class for handling command line specified options.">UserOptions</a> b_opt(<span class="stringliteral">&quot;Boundary Options (defaults to Bhatti Example 8-1)&quot;</span>);
   b_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;flux,q&quot;</span>, 0, <span class="stringliteral">&quot;Flux boundary value, right side (W/m^2)&quot;</span>);
   b_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;h-coefficient,h&quot;</span>, 200, <span class="stringliteral">&quot;Convection heat transfer coefficient (W/m^2)&quot;</span>);
   b_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;Tinf,i&quot;</span>, 50, <span class="stringliteral">&quot;Convection boundary layer temperature (C)&quot;</span>);
   b_opt.add_option&lt;Real&gt;(<span class="stringliteral">&quot;T-top,T&quot;</span>, 300, <span class="stringliteral">&quot;Top boundary temperature (disabled)&quot;</span>);

   <span class="comment">// Link the groups together</span>
   user.<a name="a16"></a><a class="code" href="class_slaughter_common_1_1_user_options.html#afb6f44d51714c6922ce0ae515f2e5404" title="A function for grouping UserOptions together.">add</a>(type).<a class="code" href="class_slaughter_common_1_1_user_options.html#afb6f44d51714c6922ce0ae515f2e5404" title="A function for grouping UserOptions together.">add</a>(t_opt).<a class="code" href="class_slaughter_common_1_1_user_options.html#afb6f44d51714c6922ce0ae515f2e5404" title="A function for grouping UserOptions together.">add</a>(r_opt).<a class="code" href="class_slaughter_common_1_1_user_options.html#afb6f44d51714c6922ce0ae515f2e5404" title="A function for grouping UserOptions together.">add</a>(m_opt).<a class="code" href="class_slaughter_common_1_1_user_options.html#afb6f44d51714c6922ce0ae515f2e5404" title="A function for grouping UserOptions together.">add</a>(b_opt);

   <span class="comment">// Apply the command-line options</span>
   user.<a name="a17"></a><a class="code" href="class_slaughter_common_1_1_user_options.html#a36d67230ea7b89ee9256e5853aed085c" title="Function for collecting and applying command-line inputs.">apply_options</a>(argc, argv);
   
   <span class="comment">// Return the main class</span>
   <span class="keywordflow">return</span> user;
}


</pre></div> </div><!-- contents -->
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Mon Jun 18 2012 15:07:30 for NSF Postdoctoral Research by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
