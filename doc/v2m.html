<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>NSF Postdoctoral Research: Image Mesh Generation: v2m</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">NSF Postdoctoral Research
   
   </div>
   <div id="projectbrief">A set of C++ code developed by Andrew E. Slaughter</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('v2m.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Image Mesh Generation: v2m </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="v2m_contents"></a>
Contents</h2>
<ul>
<li><a class="el" href="v2m.html#v2m_intro">Introduction</a></li>
<li><a class="el" href="v2m.html#v2m_syntax">Syntax for Executable</a><ul>
<li><a class="el" href="v2m.html#v2m_io">Input and Output</a></li>
<li><a class="el" href="v2m.html#v2m_criteria">Mesh Criteria</a></li>
<li><a class="el" href="v2m.html#v2m_dim">Mesh Dimensions</a></li>
<li><a class="el" href="v2m.html#v2m_optimize">Mesh Optimization</a></li>
<li><a class="el" href="v2m.html#v2m_subdomain">Meshing Subdomains</a></li>
</ul>
</li>
<li><a class="el" href="v2m.html#v2m_results">Mesh Results</a></li>
<li><a class="el" href="v2m.html#v2m_inr">INR Format</a></li>
<li><a class="el" href="v2m.html#v2m_examples">Example Usage</a><ul>
<li><a class="el" href="v2m.html#v2m_example1">Example 1: CGAL Liver</a></li>
<li><a class="el" href="v2m.html#v2m_example2">Example 2: CGAL Brain</a></li>
<li><a class="el" href="v2m.html#v2m_example3">Example 3: Porous Volume</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="v2m_intro"></a>
Introduction</h2>
<p>The program, v2m, converts 3-D "binary" image files such as those gathered from a CT-scanner and converts them into a 3-D tetrahedral mesh for the use in finite element programs. The images must be comprised of 0's and 1's, where the value of 1 is the solid that is meshed.</p>
<p>This program relies on the CGAL (<a href="http://www.cgal.org/">www.cgal.org</a>) and VTK (<a href="http://www.vtk.org/">www.vtk.org</a>) libaries. The main meshing capabilities are demonstrated in the CGAL documentation, in particluar <a href="http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Mesh_3/Chapter_main.html#Subsection_50.3.3">Section 50.3.3, "Domains From Segmented 3D Images." </a></p>
<h2><a class="anchor" id="v2m_syntax"></a>
Syntax for Executable</h2>
<p>The main executable, v2m, is controlled via command-line inputs, which allow the user to specify the input and output files as well as various meshing criteria parameters. The executable is in the <code>exec</code> directory. To view the available parameters and the associated default values use the help command:</p>
<div class="fragment"><pre class="fragment"> v2m --help
</pre></div><p>It is also to specify a configuration file with the <code>--config</code> option followed by the configuration filename. The configuration file should follow the format of the Boost Program Optoins library: <a href="http://www.boost.org/doc/libs/1_49_0/doc/html/program_options.html">http://www.boost.org/doc/libs/1_49_0/doc/html/program_options.html</a> .</p>
<h3><a class="anchor" id="v2m_io"></a>
Input and Output</h3>
<p>In the simplest form, only the input file name must be specified, as follows. Currently, *.inr, *.inr.gz, *.tif, and *.tiff input files are supported. Sample files are available in the <code>data/v2m</code> directory. In this case the output file is placed in the same directory in the *.vtu format.</p>
<div class="fragment"><pre class="fragment"> v2m ../data/v2m/randvol_30.inr
</pre></div><p>The output format can be specified by using the <code>--output-file-format</code> flag (<code>-f</code>). The period in the file type must be included. The following four file types are supported:</p>
<ul>
<li>.mesh Medit format</li>
<li>.vtu VTK Unstructured XML format</li>
<li>.vtk legacy VTK unstructured format</li>
<li>.ex2 ExodusII format</li>
</ul>
<div class="fragment"><pre class="fragment"> v2m ../data/v2m/randvol_30.inr -f .vtk
</pre></div><p>The complete path and file for the output may also be specified with the <code>--output-file</code> (<code>-o</code>) flag as such or without any flag. The following examples are all valid methods for specifing the input and output files. The flags may be used, but by default the first input without a flag is considered the input file and the second without a flag the output file. </p>
<div class="fragment"><pre class="fragment"> v2m -i ../data/v2m/randvol_30.inr -o ./randvol.vtk
 v2m ../data/v2m/randvol_30.inr -o ./randvol.vtk
 v2m ../data/v2m/randvol_30.inr ./randvol.vtk
 v2m --normalize ../data/v2m/randvol_30.inr --enable-file ./randvol.vtk
</pre></div><h3><a class="anchor" id="v2m_criteria"></a>
Mesh Criteria</h3>
<p>The meshing behavior may be modified with the meshing criteria list below. Details of the various critiera may be found in the CGAL documentation, <a href="http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Mesh_3/Chapter_main.html">Chapter 50, 3D Mesh Generation.</a></p>
<ul>
<li><code>--facet-angle</code> </li>
<li><code>--facet-size</code> </li>
<li><code>--facet-distance</code> </li>
<li><code>--cell-size</code> </li>
<li><code>--cell-radius-edge-ratio</code> </li>
</ul>
<p>For example, the following changes the facet angle to 20. </p>
<div class="fragment"><pre class="fragment"> v2m ../data/v2m/input/randvol_30.inr --facet-angle=20
</pre></div><p>By default <code>v2m</code> prints the input settings and meshing results to the screen. These results are briefly detailed in <a class="el" href="v2m.html#v2m_results">Mesh Results</a>. This ouptut may be disable by using the <code>--disable-screen</code> flag. It is also possible to print this information to a file with the <code>--enable-file</code> flag. By setting this flag a file is created with the same name as the output with a .info extension added.</p>
<div class="fragment"><pre class="fragment"> v2m ../data/input/v2m/randvol_30.inr --disable-screen
 v2m ../data/input/v2m/randvol_30.inr --enable-file
</pre></div><p>An additional option, <code>--normalize</code>, exists for setting the parameters to match the dimensional shifts of the image (see <a class="el" href="v2m.html#v2m_dim">Mesh Dimensions</a>). For example, the following two commands will produce very different meshes because of the change in dimension. The first image is given dimensions of cube of size 30 by default, the second the same image is set to a unit cube.</p>
<div class="fragment"><pre class="fragment"> v2m ../data/input/v2m/randvol_30.inr
 v2m ../data/input/v2m/randvol_30.inr --xdim=1 --ydim=1 --zdim=1
</pre></div><p>The <code>--normalize</code> flag removes this difference by normalizing the mesh criteria by the voxel dimensions (except the <code>--cell-radius-edge-ratio</code>). This option allows for the criteria to adjust to the image and allows the same mesh criteria values to apply to images of various sizes. For example, the following commands will produce nearly identical meshes.</p>
<div class="fragment"><pre class="fragment"> v2m ../data/input/v2m/randvol_30.inr
 v2m ../data/input/v2m/randvol_30.inr --normalize --xdim=1 --ydim=1 --zdim=1
</pre></div><h3><a class="anchor" id="v2m_dim"></a>
Mesh Dimensions</h3>
<p>The <code>v2m</code> program has two methods for specifing the image dimensions. By default <code>v2m</code> assumes that the dimensions are equivalent to the number of pixels (e.g., a 30 pixel cube would be dimensioned as 30x30x30).</p>
<p>The first method to specify the image dimensions is by the <code>xdim</code>, <code>ydim</code>, and <code>zdim</code> command-line arguments. For example, the command below sets the dimensions of the image to a unit cube.</p>
<div class="fragment"><pre class="fragment"> v2m ../data/input/v2m/randvol_30.inr --xdim=1 --ydim=1 --zdim=1
</pre></div><p>The second method defines the image size based on the size of a pixel. This method supercedes the aforemention method, thus if both are usec the voxel (pixel) dimension is used. The following command sets the dimensions of the complete image to 15 x 15 x 15, by setting the voxel size to a 0.5 cube.</p>
<div class="fragment"><pre class="fragment"> v2m ../data/input/v2m/randvol_30.inr --vx=0.5 --vy=0.5 --vz0.5
</pre></div><h3><a class="anchor" id="v2m_optimize"></a>
Mesh Optimization</h3>
<p>GCAL offers four optimization routines for generating meshes, which are detailed in the <a href="http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Mesh_3/Chapter_main.html#Subsection_50.2">Section 50.2, "Interface" </a> of the CGAL user manual. <a class="el" href="v2m.html#v2m_example2">Example 2</a> demonstrates the use and importance of mesh optimization.</p>
<p>By default the perturb and exude options are used, these can be disabled with the <code>--disable-exude</code> and <code>--disable-perturb</code> flags.</p>
<p>The Lloyd and Odt optimization are not used by default becuase they add signficant computation time to the meshing. These options may be enabled with the <code>--enable-lloyd</code> and <code>--enable-odt</code> flags.</p>
<p>Also, the <code>--enable-all</code> and --disable-all flags allow for the user to toggle on or off all of the optimization routines.</p>
<p>Each of the methods has a number of options associated, these values are discussed in the CGAL documentation in detail and the available values may be viewed from the command line by using the <code>--advanced</code> flag.</p>
<h3><a class="anchor" id="v2m_subdomain"></a>
Meshing Subdomains</h3>
<p>It is also possible to mesh subdomains and set varying mesh criteria on each subdomain. <a class="el" href="v2m.html#v2m_example1">Example 1: CGAL Liver</a> demonstrates the usage of this feature by mimicing the example in the CGAL documentation.</p>
<p>A subdomain is defined in the image file by the values associated with the pixels, which should be between 0 through 255. Three examples of adding a subdomain with the <code>--subdomain</code> command as follow. The first indicates that all pixels with a value of 20 will have a <code>cell-size</code> of 2, all others will use the default value.</p>
<p>The second command sets both the default value and the subdomain value; the default <code>cell-size</code> is set to 4 and the subdomain value is again set to 2.</p>
<p>The third command demonstates that there are two subdomains, pixel values of 20 and 40. The default <code>cell-size</code> is set to 4 and set to 2 and 1 for the two subdomains defined, respectively.</p>
<div class="fragment"><pre class="fragment"> v2m ./input.inr --subdomain 20 --cell-size 2
 v2m ./input.inr --subdomain 20 --cell-size 4 2
 v2m ./input.inr --subdomain 20 40 --cell-size 4 2 1
</pre></div><p>Currently only the <code>cell-size</code> criteria may be different on each subdomain, all other values will use the default. So, if you are adding the subdomain feature and want to change the criteria for the <code>--facet-size</code> you must specify to values, one to set the default (2) and the other for the subdomain, the latter of which will not be used (9 in the command below). It is planned to have adjustable parameters for each criteria, but it may not be possible with the CGAL library.</p>
<div class="fragment"><pre class="fragment"> v2m ./input.inr --subdomain 20 --cell-size 2
 v2m ./input.inr --subdomain 20 --cell-size 4 2 --facet-size 1 9
</pre></div><p>The <code>--subdomain</code> option is only need to change the meshing criteria for the various domains. The program automatically defines the subdomains, unless the <code>--disable-subdomains</code> flag is used. In this case the ids are eliminated from the file.</p>
<p>Finally, only the *.medit and *.ex2 output format support the ability to write the subdomains to a file.</p>
<h2><a class="anchor" id="v2m_results"></a>
Mesh Results</h2>
<p>As mentioned above <code>v2m</code> outputs various parameters that describe the resulting mesh. An example output is given below.</p>
<div class="fragment"><pre class="fragment">FILE INFORMATION -------------------------------------------------------------------
   input-file: ../data/vol2mesh/input/randvol_30.inr
  output-file: ../source/demo/fem/transient_heat/randvol_30.ex2

INPUT PARAMETERS -------------------------------------------------------------------
             facet-angle: 30.000
              facet-size:  2.000
          facet-distance:  0.500
  cell-radius-edge-ratio:  3.000
               cell-size:  8.000

MESH RESULTS -----------------------------------------------------------------------
   execution time (sec.):  1.092
  num. of pixels (x,y,z): 30, 30, 30
      pixel dim. (x,y,z):  0.033,  0.033,  0.033
      image dim. (x,y,z):  1.000,  1.000,  1.000
        num. of elements: 10647
           num. of faces: 8136

TETRAHEDRAL QUALITY ----------------------------------------------------------------
                    Name     Lower     Upper   Average Std. dev.   COV (%)
              Edge ratio     1.044    10.405     2.008     0.324    16.142
            Aspect ratio     1.012     6.838     1.940     0.436    22.488
            Radius ratio     1.001     6.962     1.700     0.388    22.830
        Aspect Frobenius     1.001     4.318     1.493     0.153    10.250
  Minimal dihedral angle     8.139    85.311    43.174   189.157   438.126
          Collapse ratio     0.069     0.797     0.368     0.013     3.582
             Aspect beta     1.001     6.962     1.700     0.388    22.830
                  Volume     0.000     0.000     0.000     0.000     0.004
               Condition     1.001     6.078     1.559     0.277    17.756
                Jacobian     0.000     0.003     0.000     0.000     0.023
         Scaled jacobian     0.047     0.981     0.465     0.029     6.265
                   Shape     0.232     0.999     0.706     0.021     2.975
   Relative size squared     0.001     0.999     0.346     0.074    21.257
          Shape and size     0.001     0.912     0.243     0.040    16.352
              Distortion     1.000     1.000     1.000     0.000     0.000
</pre></div><p>Notice that the output includes a table of mesh quality results. These are computed using the VTK mesh quality class (<a href="http://www.vtk.org/doc/nightly/html/classvtkMeshQuality.html">http://www.vtk.org/doc/nightly/html/classvtkMeshQuality.html</a>). The name quality refers to the quality measure member function used to compute the values in that row. For example, the "Edge ratio" uses the <code>SetTetQualityMeasureToEdgeRatio()</code> member function of the <code>vtkMeshQuality</code> class.</p>
<p>The quality parameters are calculated for each element, the data presented in the table summarizes the results and include the lower and upper bounds of the computed values, the average value for the entire mesh, the standard deviation, and coeffient of variation.</p>
<h2><a class="anchor" id="v2m_inr"></a>
INR Format</h2>
<p>The *.inr format is the main format used by the CGAL library. Currently, <code>v2m</code> only supports direct input of *.inr files and *.tif files (8-bit grey scale only). The *.tif support uses the ITK (www.ITK.org) libraries to covert the *.tif into a raw file format (*.inr without the header) that CGAL can read.</p>
<p>For convenience a set of MATLAB functions was developed from for converting tiff files to inr format (e.g., /matlab/v2m/tif2inr.m). For example, the following MATLAB commands convert the randvol_30.tif file in the data directory into a *.inr file.</p>
<div class="fragment"><pre class="fragment"> &gt;&gt; tif2inr(<span class="stringliteral">&#39;../../data/v2m/randvol_30.tif&#39;</span>);
</pre></div><p>Additional functions exists within the <code>/matlab/v2m</code> directory for generating random volumes, viewing volumes, and save and converting between *.tif and *.inr files. The conversion functions were developed from the ISO2Mesh library (<a href="http://iso2mesh.sourceforge.net/cgi-bin/index.cgi">http://iso2mesh.sourceforge.net/cgi-bin/index.cgi</a>).</p>
<h2><a class="anchor" id="v2m_examples"></a>
Example Usage</h2>
<p>The following examples utilize various example input data files, these files are contained in the <code>/data/v2m/input</code> directory. In all cases the commands export the meshes to the <code>/data/v2m/output</code> directory. The lloyd and odt optimization is were not used in all cases except in <a class="el" href="v2m.html#v2m_example2">Example 2</a>; enabling these options causes the * mesh time required to increase significantly.</p>
<h3><a class="anchor" id="v2m_example1"></a>
Example 1: CGAL Liver</h3>
<p>The CGAL library includes various meshing examples, this section demonstrates how these examples may be reproduced using v2m. The first example produces a 3D mesh of a liver in *.vtu format. This code should be executed from the <code>/bin</code> directory. The resulting 3D mesh is displayed below the code snippet.</p>
<div class="fragment"><pre class="fragment"> ./v2m ../data/v2m/input/liver.inr.gz ../data/v2m/output/liver.vtu 
</pre></div> <div class="image">
<img src="v2m_liver.png" alt="v2m_liver.png"/>
<div class="caption">
Mesh of CGAL Liver</div></div>
<p> The resulting mesh has 16,702 elements and 4,017 external faces. The resulting mesh had a mean condition number of 1.27 with a standard deviation of 0.075 and coefficient of variation of 5.9%.</p>
<p>The liver image contains sub-domains, the following command will change the <code>cell-size</code> to 2 for the kidney portion of the image as shown below.</p>
<div class="fragment"><pre class="fragment"> ./v2m ../data/v2m/input/liver.inr.gz ../data/v2m/output/liver.ex2 --subdomain 127 --cell-size 2
</pre></div> <div class="image">
<img src="v2m_liver_subdomain.png" alt="v2m_liver_subdomain.png"/>
<div class="caption">
Mesh of CGAL Liver with subdomain</div></div>
<h3><a class="anchor" id="v2m_example2"></a>
Example 2: CGAL Brain</h3>
<p>In similar example to <a class="el" href="v2m.html#v2m_example1">Example 1</a>, the CGAL brain.inr image may be meshed using the following commands. In this case, the output format is changed to *.vtk format and the <code>--facet-size</code> is reduced to 3 from the default of 6.</p>
<div class="fragment"><pre class="fragment"> ./v2m ../data/v2m/input/brain.inr ../data/v2m/output/brain.vtk --facet-size 4 
</pre></div> <div class="image">
<img src="v2m_brain.png" alt="v2m_brain.png"/>
<div class="caption">
Mesh of CGAL Brain</div></div>
<p> The resulting mesh has 21,019 elements and 6,716 external faces. The resulting mesh had a mean condition number of 1.44 with a standard deviation of 0.21 and coefficient of variation of 14.5%. This mesh took 15.8 sec. to generate.</p>
<p>While little difference visually is detectable, the importance of using optimization techniques is apparent when compared. The brain image was executed with various optimization settings. The mesh criteria remained the same as above. The results of these runs are shown in the following table.</p>
<table border="1" spacing="5" align="center"> 
	<tr align="center"> 
		<td> Optimization Used </td> 
		<td> Execution time (sec.) </td>
		<td> No. of elements </td>
		<td> No. of facets </td>
		<td> Condition number </td>
		<td> Condition number COV (%) </td>
		</tr>
	<tr align="center"> 
		<td> --disable-all </td> 
		<td> 4.7 </td>
		<td> 22,006 </td>
		<td> 6,764 </td>
		<td> 1.705 </td>
		<td> 3504.791 </td>
	</tr>
	<tr align="center"> 
		<td> Default (perturb and exude) </td> 
		<td> 15.2 </td>
		<td> 21,019 </td>
		<td> 6,716 </td>
		<td> 1.441 </td>
		<td> 14.502 </td>
	</tr>
	<tr align="center"> 
		<td> --enable-lloyd </td> 
		<td> 232.0 </td>
		<td> 20,487 </td>
		<td> 6,786 </td>
		<td> 1.313 </td>
		<td> 7.642 </td>
	</tr>
	<tr align="center"> 
		<td> --enable-odt </td> 
		<td> 69.620 </td>
		<td> 20,675 </td>
		<td> 6,764 </td>
		<td> 1.323 </td>
		<td> 10.194 </td>
	</tr>
	<tr align="center"> 
		<td> --enable-all </td> 
		<td> 208.5 </td>
		<td> 20,406 </td>
		<td> 6,712 </td>
		<td> 1.294 </td>
		<td> 6.975 </td>
	</tr>
</table> 
<h3><a class="anchor" id="v2m_example3"></a>
Example 3: Porous Volume</h3>
<p>This example demonstrates the usage of <code>v2m</code> to mesh a 3D image of a random porous volume. It provides examples of how the various mesh parameters can effect the mesh. Each mesh created in this section is labeled with a reference (e.g., 3a and 3b). This reference is used to report various mesh statistics and quality measures in the table at the end of the section.</p>
<p>The first step is to develop the volume, a 30 pixel cube is used here. This volume is generated using the MATLAB function <code>randvol.m</code> is uses (this function is located in the <code>~/matlab/v2m</code> directory). The following MATLAB commands, executed from this directory created the base image used here: <code>randvol_30.inr</code>, which is plotted using MATLAB following the code.</p>
<div class="fragment"><pre class="fragment"> &gt;&gt; v = randvol(30);
 &gt;&gt; showvol(v);
 &gt;&gt; saveinr(v, <span class="stringliteral">&#39;../../data/v2m/input/randvol_30.inr&#39;</span>);
</pre></div><p>Using the default settings for <code>v2m</code>, as follows, creates a mesh (Mesh 3a) that obviously does not capture the detail of the image.</p>
<div class="fragment"><pre class="fragment"> ./v2m ../data/v2m/input/randvol_30.inr ../data/v2m/output/randvol_30.vtu
</pre></div><p>One method to improve the detail is to adjust the facet size as shown in the following images (Mesh 3b and 3c, respectively). It is also possible to modifiy the cell-size to achieve more detailed mesh (Mesh 3d).</p>
<div class="fragment"><pre class="fragment"> ./v2m ../data/v2m/input/randvol_30.inr ../data/v2m/output/randvol_30.vtu --facet-size=2 
 ./v2m ../data/v2m/input/randvol_30.inr ../data/v2m/output/randvol_30.vtu --facet-size=0.25
 ./v2m ../data/v2m/input/randvol_30.inr ../data/v2m/output/randvol_30.vtu --facet-size=2 --cell-size=0.5
</pre></div> 
 <table align=center>
 <tr>
 <td style="width:320px"> <img src="v2m_ex3_matlab.png" style="width:300px; height:300px;" /> </td>
 <td style="width:320px"><img src="v2m_ex3_1.png" style="width:300px; height:300px;" /> </td>
 </tr><tr>
 <td align=center><b> Matlab random volume </b></td>
 <td align=center><b> Default v2m mesh (Mesh 3a) </b></td>
 </tr>
 </table>
  
 <table align=center>
 <tr>
 <td style="width:320px"> <img src="v2m_ex3_2.png" style="width:300px; height:300px; float:center" /> </td>
 <td style="width:320px"> <img src="v2m_ex3_3.png" style="width:300px; height:300px; float:center" /> </td>
 </tr><tr>
 <td align=center><b> facet-size = 2 (Mesh 3b) </b></td>
 <td align=center><b> facet-size = 0.25 (Mesh 3c) </b></td>
 </tr>
 </table>
  <br/>
<br/>
 </p>
<div class="image">
<img src="v2m_ex3_4.png" alt="v2m_ex3_4.png"/>
<div class="caption">
facet-size = 2; cell-size = 0.5 (Mesh 3d)</div></div>
<p> Changing the facet-distance allows for a mesh (Mesh 3e) that applies detail where it is needed. For example:</p>
<div class="fragment"><pre class="fragment"> ./v2m ../data/v2m/input/randvol_30.inr ../data/v2m/output/randvol_30.vtu --facet-size=2  --facet-distance=0.1
</pre></div><div class="image">
<img src="v2m_ex3_5.png" alt="v2m_ex3_5.png"/>
<div class="caption">
facet-size = 2; facet-distance = 0.1 (Mesh 3e)</div></div>
<p> The table below summarizes a portion of the mesh results as reported by <code>v2m</code>. Obviously, the possible settings are endless and dependant on the problem, but hopefully this example demonstrated how to use <code>v2m</code> and modify the command-line to fit your specific needs.</p>
<table border="1" spacing="5" align="center"> 
	<tr align="center"> 
		<td> Mesh ID </td> 
		<td> Execution time (sec.) </td>
		<td> No. of elements </td>
		<td> No. of facets </td>
		<td> Condition number </td>
		<td> Condition number COV (%) </td>
		</tr>
	<tr align="center"> 
		<td> 3a </td> 
		<td> 0.044 </td>
		<td> 235 </td>
		<td> 342 </td>
		<td> 1.32 </td>
		<td> 5.1 </td>
	</tr>
	<tr align="center"> 
		<td> 3b </td> 
		<td> 0.432 </td>
		<td> 3,824 </td>
		<td> 3,300 </td>
		<td> 1.39 </td>
		<td> 9.7 </td>
	</tr>
	<tr align="center"> 
		<td> 3c </td> 
		<td> 822.96 </td>
		<td> 5,614,679 </td>
		<td> 3,085,812 </td>
		<td> 2.16 </td>
		<td> 32.9 </td>
	</tr>
	<tr align="center"> 
		<td> 3d </td> 
		<td> 29.87 </td>
		<td> 406,381 </td>
		<td> 79,299 </td>
		<td> 1.25 </td>
		<td> 5.3 </td>
	</tr>
	<tr align="center"> 
		<td> 3e </td> 
		<td> 17.29 </td>
		<td> 143,938 </td>
		<td> 92,702 </td>
		<td> 1.98 </td>
		<td> 32.7 </td>
	</tr>
</table> 
<p><br/>
<br/>
<br/>
 </p>
</div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">C++ Programs of Andrew Slaughter's Postdoctoral Research Projects</a>      </li>

    <li class="footer">Generated on Tue Jun 26 2012 17:04:48 for NSF Postdoctoral Research by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
